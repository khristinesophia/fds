doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC' crossorigin='anonymous')
    link(rel='stylesheet', href='/css/font.css')
    link(rel='stylesheet', href='/css/modal.css')
    link(rel='stylesheet', href='/css/nav-scroll.css')


    title Dashboard
    include ../partials/color.pug
  body
    include ../partials/navHSA.pug
    
    .content
      // Header Title for page
      .row.mx-5  
        .col-12
          h2.text Dashboard

            //- First Row (Checked In, Overall Stayed, Checked Out)
            .row.mx-5
              //-Checked In
              .col-4.col-md-4.mt-4.d-flex.justify-content-start  
                .card.act_card.shadow-sm(style="width: 350px;")
                  .card-body.act_card_body
                    .d-flex.flex-column.align-items-start
                      span.card-title.mb-2.text-muted Active Account
                      h2 #{guestAccountCount}

              //-Overall Stayed
              .col-4.col-md-4.mt-4.d-flex.justify-content-center
                .card.act_card.shadow-sm(style="width: 350px;")
                  .card-body.act_card_body
                    .d-flex.flex-column.align-items-start
                      span.card-title.mb-2.text-muted Occupied Rooms
                      h2 #{occupiedRoomCount}
   
              //-Checked Out              
              .col-4.col-md-4.mt-4.d-flex.justify-content-end
                .card.act_card.shadow-sm(style="width: 350px;")
                  .card-body.act_card_body
                    .d-flex.flex-column.align-items-start
                      span.card-title.mb-2.text-muted Vacant Rooms
                      h2 #{vacantRoomCount}

            //-Second Row
            .row.mx-5
              .col-6.col-md-6.mt-4  
                .card.shadow-sm(style="height: 300px;")
                  .card-body
                    .d-flex.flex-column.align-items-start
                      span.card-title.mb-2.text-muted Reservation
                      h2 #{reservationAllCount}
                      table 
                        thead 
                          th 
                          th 
                        tbody
                          each r in reservations
                            tr
                              td #{r.roomtype}
                              td #{r.roomtype_count}

              .col-6.col-md-6.mt-4  
                .card.shadow-sm(style="height: 300px;")
                  .card-body
                    .d-flex.flex-column.align-items-start
                      span.card-title.mb-2.text-muted Guest In-House
                      h2 Adult: #{adultNoCount}
                      h2 Children: #{childNoCount}

            //-Third Row
            .row.mx-5
              .col-12.col-md-12.mt-4            
                .card.shadow-sm(style="height: 300px;")
                  .card-body
                    .d-flex.flex-column.align-items-start
                      span.card-title.mb-2.text-muted Rooms
                      table
                        thead 
                          th Room Type
                          th Vacant
                          th Occupied
                          th On-Change 
                          th Out-of-Order
                          th Total
                        tbody
                          each x in rooms
                            tr
                              td #{x.roomtype}
                              td #{x.vacantcount}
                              td #{x.occupiedcount}
                              td #{x.onchangecount}
                              td #{x.outofordercount}
                              td #{x.totalcount}

            //-Fourth Row
            .row.mx-5
              .col-6.col-md-6.mt-4  
                .card.shadow-sm(style="height: 300px;")
                  .card-body
                    .d-flex.flex-column.align-items-start
                      span.card-title.mb-2.text-muted Arrival
                      table 
                        thead 
                          th Reservation ID
                          th Guest Name 
                          th Checkin Date
                        tbody
                          each x in arrivalArray
                            tr
                              td #{x.reservationid}
                              td #{x.fullname}
                              td #{x.checkindate}

              .col-6.col-md-6.mt-4  
                .card.shadow-sm(style="height: 300px;")
                  .card-body
                    .d-flex.flex-column.align-items-start
                      span.card-title.mb-2.text-muted Departure 
                      table 
                        thead 
                          th Room Number 
                          th Guest Name 
                          th Checkout Date
                        tbody
                          each x in departuresArray
                            tr
                              td #{x.roomnum}
                              td #{x.fullname}
                              td #{x.checkoutdate}


    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js' integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM' crossorigin='anonymous')
    script(src='https://kit.fontawesome.com/72e773f6c0.js' crossorigin='anonymous')
    script(src='/js/modal.js') 
    script(src='/js/nav-active.js') 
    script(src='/js/acc.js')