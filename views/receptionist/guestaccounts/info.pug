doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport" content="width=device-width, initial-scale=1.0")

        //- bootstrap
        link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC' crossorigin='anonymous')

        //- jquery
        script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js' integrity='sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==' crossorigin='anonymous' referrerpolicy='no-referrer')

        //- custom css
        link(rel='stylesheet', href='/css/font.css')
        link(rel='stylesheet', href='/css/modal.css')
        link(rel='stylesheet', href='/css/table.css')

        //- title
        title Info

        //- sa head lagi nakalagay ang color.pug
        include ../../partials/color.pug
    //-body
    body
        //- sidenav
        include ../../partials/navR.pug

        //- main content
        .content
            //- page title
            .row.mx-5
                //- Guest Details
                .col-12.col-md-12.col-lg-4.d-flex.align-items-center

                    .card.bg-white.shadow.px-4.py-4.mt-3
                        .bg.bg-round
                            .row.mt-3 
                                h4.text-center.fw-bold.mb-0.p-0
                                    if ga.fullname
                                        span #{ga.fullname}
                                h6.text-center
                                    p (Guest)        
                            .row
                                h4.text-center
                                    if ga.roomtype
                                        span #{ga.roomtype} -  
                                    if ga.roomnum
                                        span Rm#{ga.roomnum}                                       

                        h4.m-0.mt-3 Guest Details

                        //- card body
                        .card-body.text-dark
                            
                            .row.mb-3 
                                .col-md-5.fw-bold Home Address:
                                .col-md-7
                                    if ga.address
                                        span #{ga.address}
                            .row.mb-3 
                                .col-md-5.fw-bold Email Address:
                                .col-md-7
                                    if ga.email
                                        span #{ga.email}
                            .row.mb-3 
                                .col-md-5.fw-bold Contact Number:
                                .col-md-7
                                    if ga.contactno
                                        span #{ga.contactno}
                            
                        
                        h4.m-0 Stay Details
                        .card-body.text-dark
                            .row.mb-3
                                .col-md-5.fw-bold Check-In Date:
                                .col-md-7
                                    if ga.checkindate
                                        span #{ga.checkindate}
                            .row.mb-3
                                .col-md-5.fw-bold Check-Out Date:
                                .col-md-7
                                    if ga.checkoutdate
                                        span #{ga.checkoutdate}
                            .row.mb-3
                                .col-md-5.fw-bold Number of Days:
                                .col-md-7
                                    if ga.numofdays
                                        span #{ga.numofdays}
                            .row.mb-3
                                .col-md-5.fw-bold Number of Adult:
                                .col-md-7
                                    if ga.adultno
                                        span #{ga.adultno}
                            .row.mb-3
                                .col-md-5.fw-bold Number of Child:
                                .col-md-7
                                    if ga.childno
                                        span #{ga.childno}
                            .row.mb-3
                                .col-md-5.fw-bold Promo Code:
                                .col-md-7
                                    if ga.promoid
                                        span #{ga.code}     

                        h4.m-0 Room Payment
                        .card-body.text-dark
                            .row.mb-3
                                .col-md-5.fw-bold Mode of Payment:
                                .col-md-7
                                    if ga.modeofpayment
                                        span #{ga.modeofpayment}

                //- Room Status
                .col-12.col-md-12.col-lg-8
                    include ../../partials/navRga.pug
                    //- card start
                    .card.bg-white.shadow.px-4.py-3.mt-3
                        h2.text.mb-3 Room Status
                        //- card body
                        .card-body.text-dark.d-flex.justify-content-center.my-4
                            .room_box
                                h5.bg(style='padding: 1rem 2rem; margin-right: 2rem;') Room #{ga.roomnum}
                            .room_box 
                                - let statusStyles = ''
                                if ga.status === "Occupied"
                                    - statusStyles = `background-color: #FFDDE1; color: #CC0000`
                                if ga.status === "To check-out"
                                    - statusStyles = `background-color: #FFFDB8; color: #FFA852`
                                if ga.status === "Inspected"
                                    - statusStyles = `background-color: #FFE4B9; color: #FF6600`
                                if ga.status === "Recently checked-out"
                                    - statusStyles = `background-color: #CCEDFF; color: #336699`
                                if ga.status === "Vacant"
                                    - statusStyles = `background-color: #CAFFDF; color: #339933`

                                h5(style=`${statusStyles}; padding: 1rem 2rem;`) #{ga.status}
                        if ga.status === "Occupied"
                            p.text-center This room is currently occupied by the guest.<br>Alert housekeeping. Change room status when guest checks out.
                        if ga.status === "To check-out"
                            p.text-center This room is currently ready for inspection.<br>Housekeeping will handle this. Wait for room status to change to “Inspected”.
                        if ga.status === "Inspected" && ga.settled === false
                            p.text-center This room is already inspected.<br>Process the payment.
                        if ga.status === "Inspected" && ga.settled === true
                            p.text-center This account is already settled.<br>Change the room status to "Recently checked-out"
                        if ga.status === "Recently checked-out"
                            p.text-center This account is already checked-out.<br>Print or download the invoice
                        if ga.status === "Vacant"
                            p.text-center This account is already cleaned by the housekeeping.<br>Archive this account.

                        if ga.status === "Occupied"
                            form(action=`/ga/tco/${ga.accountid}` method="POST").text-center
                                input.btn.mod_btn.mt-4(type="submit" value="Change") 
                        if ga.status === "Inspected" && ga.settled === false
                            form(action=`/ga/folio/${ga.accountid}`).text-center
                                input.btn.mod_btn.mt-4(type="submit" value="Folio")
                        if ga.status === "Inspected" && ga.settled === true
                            form(action=`/ga/rco/${ga.accountid}` method="POST").text-center
                                input.btn.mod_btn.mt-4(type="submit" value="Change")
                        if ga.status === "Recently checked-out"
                            form(action=`/ga/folio/${ga.accountid}`).text-center
                                input.btn.mod_btn.mt-4(type="submit" value="Folio")
                        if ga.status === "Vacant"
                            form(action=`/ga/archive/${ga.accountid}` method='POST').text-center 
                                input.btn.mod_btn.mt-4(type="submit" value="Archive")

                        

    //-Bootstrap Js
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js' integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM' crossorigin='anonymous')
    //-FontAwesome
    script(src='https://kit.fontawesome.com/72e773f6c0.js' crossorigin='anonymous')
    //-Customize JS
    script(src='/js/nav-active.js')
    script(src='/js/room_nav.js')     