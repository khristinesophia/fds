doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    
    //-Bootstrap
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC' crossorigin='anonymous')

    //-Full Calendar
    link(href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.css", rel="stylesheet")
    script(src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js")

    //-Customize Css
    link(rel='stylesheet', href='/css/font.css')
    link(rel='stylesheet', href='/css/modal.css')

    title Reservations
    //- sa head lagi nakalagay ang color.pug
    include ../../partials/color.pug
  body
    include ../../partials/navR.pug

    .content
      // Header Title for page
      .row.mx-5
        .col-8.d-flex.align-items-center
          h2.text All Reservations
        
        //- ---------- full calendar section ----------

        div#calendar
        script.
            document.addEventListener('DOMContentLoaded', function() {
                let calendarEl = document.getElementById('calendar');
                let calendar = new FullCalendar.Calendar(calendarEl, {
                headerToolbar: {
                    left: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek',
                    center: 'title'
                },
                buttonText: {
                    today: 'Today',
                    month: 'Month',
                    week: 'Week',
                    day: 'Day',
                    list: 'List'
                },
                events: !{events}, // Parse JSON data from the server
                contentHeight: '800px', // Set the height to your desired value
                displayEventTime: false,
                eventClick: function (info) {
                    // Extract the event ID
                    const eventId = info.event.id;

                    // Navigate to the detail page with the event ID
                    window.location.href = `/reservation/detail/${eventId}`;
                },
                eventMouseEnter: function (info) {
                    // Change the cursor to a pointer when hovering over an event
                    info.el.style.cursor = 'pointer';
                },
                eventMouseLeave: function (info) {
                    // Reset the cursor when leaving the event
                    info.el.style.cursor = 'auto';
                }
                });
                calendar.render();
            });


    //-Bootstrap Js
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js' integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM' crossorigin='anonymous')
    //-FontAwesome
    script(src='https://kit.fontawesome.com/72e773f6c0.js' crossorigin='anonymous')
    //-Customize JS
    script(src='/js/modal.js') 
    script(src='/js/nav-active.js') 
